!function(e){const n={version:"1.0.0",settings:null,isSDKInterfaceDone:!1,AD_STATES:{OFF:0,IDLE:1,PRELOADING:2,READY:3,PLAYING:4,CLOSED:5},init:function(e){this.settings=e||{},this.getDebugLevel()&&console.log("[init] SDK_INTERFACE %s...",this.version),this.getDebugLevel()&&console.log(e),this.settings.isProd&&(this.settings.forceMockObject=!1),this.settings.interstitial.state=null,this.settings.interstitial.last=null,this.settings.rewarded.state=null,this.settings.rewarded.last=null;var t=[];for(let e=0;e<this.settings.externalFiles.length;e++)t.push(this.loadFile(this.settings.externalFiles[e]));let n=this;Promise.all(t).then(function(){},function(){}).finally(function(){n.setFamobiAdapters(),["interstitial"].forEach(function(e){n.settings[e].enabled&&(n.setAdState(e,n.AD_STATES.IDLE),0<n.settings[e].preload)&&setInterval(function(){n.settings[e].enabled&&n.preload(e)},n.settings[e].preload)}),(n.settings.forceMockObject?SDK_INTERFACE_MOCK_OBJECT():Promise.resolve()).then(function(){n.getDebugLevel()&&console.log("[SDK_INTERFACE] using mock object..."+(n.settings.forceMockObject?"OK":"SKIPPED"))},function(){n.getDebugLevel()&&console.log("[SDK_INTERFACE] using mock object... FAILED")}).finally(function(){SDK_INTERFACE_INIT().then(function(){n.getDebugLevel()&&console.log("[SDK_INTERFACE] init... OK")},function(){n.getDebugLevel()&&console.log("[SDK_INTERFACE] init... FAILED")}).finally(function(){n.done()})})})},loadFile:function(o){let s=this;return new Promise(function(e,t){const n=document.createElement("script");let i=!1;n.type="text/javascript",n.src=o,n.async=!0,n.onerror=function(e){s.getDebugLevel()&&console.log("[loading] %s... FAILED",o),t(e,n)},n.onload=n.onreadystatechange=function(){i||this.readyState&&"complete"!=this.readyState||(i=!0,s.getDebugLevel()&&console.log("[loading] %s... OK",o),e())};var a=document.getElementsByTagName("script")[0];a.parentElement.insertBefore(n,a)})},_showAd:function(e,n,i){let a="interstitial";this.getDebugLevel()&&console.log("[famobi] showAd");function o(){"function"==typeof e&&e()}if(this.getAdState(a)!==this.AD_STATES.READY)this.getDebugLevel()&&console.log("[famobi] showAd SKIPPED (state: %s)",this.getAdState(a)),o();else if(this.hasCooledDown()){this.setAdState(a,this.AD_STATES.PLAYING),!0!==i&&this.pauseGame();let t=this;setTimeout(function(){t.getDebugLevel()&&console.log("SDK_INTERFACE_SHOW_AD()"),SDK_INTERFACE_SHOW_AD(n,i).then(function(){t.getDebugLevel()&&console.log("OK"),!0!==i&&(t.settings[a].last=new Date)},function(e){t.getDebugLevel()&&console.log("FAILED",e)}).finally(function(){t.setAdState(a,t.AD_STATES.CLOSED),setTimeout(function(){t.setAdState(a,t.AD_STATES.IDLE)},500),setTimeout(function(){t.resumeGame(),o()},t.settings[a].timeout)})},t.settings[a].timeout)}else this.getDebugLevel()&&console.log("[famobi] showAd SKIPPED"),o()},_rewardedAd:function(e){let n={rewardGranted:this.settings.rewarded.reward,adDidLoad:!0,adDidShow:!0},i="rewarded";this.getDebugLevel()&&console.log("[famobi] rewardedAd");function a(){"function"==typeof e&&e(n)}if(this.getAdState(i)!==this.AD_STATES.READY)this.getDebugLevel()&&console.log("[famobi] rewardedAd SKIPPED (state: %s)",this.getAdState(i)),a();else if(this.hasCooledDown(i)){this.setAdState(i,this.AD_STATES.PLAYING),this.pauseGame();let t=this;setTimeout(function(){t.getDebugLevel()&&console.log("SDK_INTERFACE_REWARDED_AD()"),SDK_INTERFACE_REWARDED_AD().then(function(e){t.settings[i].last=new Date,t.getDebugLevel()&&console.log("OK"),n.rewardGranted=e},function(e){t.getDebugLevel()&&console.log("FAILED",e)}).finally(function(){t.setAdState(i,t.AD_STATES.CLOSED),setTimeout(function(){t.setAdState(i,t.AD_STATES.IDLE)},500),setTimeout(function(){t.resumeGame(),a()},t.settings[i].timeout)})},t.settings[i].timeout)}else this.getDebugLevel()&&console.log("[famobi] rewardedAd SKIPPED"),a()},_hasRewardedAd:function(){return this.settings.rewarded.state===this.AD_STATES.READY&&this.hasCooledDown("rewarded")},pauseGame:function(){this.getDebugLevel()&&console.log("[famobi] game.pause... OK"),window.famobi.game.pause()},resumeGame:function(){window.famobi.game.canResume()?(this.getDebugLevel()&&console.log("[famobi] game.resume... OK"),window.famobi.game.resume()):this.getDebugLevel()&&console.log("[famobi] game.resume... SKIPPED")},preload:function(t){if(t=t||"interstitial",this.settings[t].state===this.AD_STATES.IDLE){this.setAdState(t,this.AD_STATES.PRELOADING);let e=this;SDK_INTERFACE_PRELOAD_AD(t).then(function(){e.getDebugLevel()&&console.log("[%s] preloading... OK",t),e.setAdState(t,e.AD_STATES.READY)},function(){e.getDebugLevel()&&console.log("[%s] preloading... FAILED",t),e.setAdState(t,e.AD_STATES.CLOSED),setTimeout(function(){e.setAdState(t,e.AD_STATES.IDLE)},e.settings[t].retry)})}},setFamobiAdapters:function(){let t=this;window.famobi_adapters={api:{created:function(){t.overwrite(),window.famobi.hasFeature("rewarded")&&["rewarded"].forEach(function(e){t.settings[e].enabled&&(t.setAdState(e,t.AD_STATES.IDLE),0<t.settings[e].preload)&&setInterval(function(){t.preload(e)},t.settings[e].preload)})}}}},getDebugLevel:function(){return this.settings.debugLevel},setAdState:function(e,t){this.getDebugLevel()&&console.log("[%s] changed state: %s",e,Object.keys(this.AD_STATES)[t]),this.settings[e].state=t},getAdState:function(e){return this.settings[e=e||"interstitial"].state},hasCooledDown:function(e){var t,n;return!(this.settings[e=e||"interstitial"].last&&0<=this.settings[e].cooldown)||(t=this.settings[e].cooldown)<=(n=Math.round((Date.now()-this.settings[e].last)/1e3))||(this.getDebugLevel()&&console.log("[%s/cooldown]: %s seconds left",e,t-n),!1)},overwrite:function(){let t=this,e=(void 0!==window.famobi&&(Object.keys(SDK_INTERFACE_OVERRIDES.famobi).forEach(function(e){["showAd","rewardedAd","hasRewardedAd"].includes(e)?t.getDebugLevel()&&console.warn("[overwrite] famobi.%s... SKIPPED",e):(t.getDebugLevel()&&console.log("[overwrite] famobi.%s... OK",e),window.famobi[e]=SDK_INTERFACE_OVERRIDES.famobi[e])}),window.famobi.showAd=n._showAd.bind(n),window.famobi.rewardedAd=n._rewardedAd.bind(n),window.famobi.hasRewardedAd=n._hasRewardedAd.bind(n)),setInterval(function(){void 0!==window.famobi_analytics&&(clearInterval(e),Object.keys(SDK_INTERFACE_OVERRIDES.famobi_analytics).forEach(function(e){t.getDebugLevel()&&console.log("[overwrite] famobi_analytics.%s... OK",e),window.famobi_analytics[e]=SDK_INTERFACE_OVERRIDES.famobi_analytics[e]}))},500))},done:function(){this.isSDKInterfaceDone=!0}};e.SDK_INTERFACE=n}(window);const loadScript=function(o){return new Promise(function(e,t){const n=document.createElement("script");let i=!1;n.type="text/javascript",n.src=o,n.async=!0,n.onerror=function(e){t(e,n)},n.onload=n.onreadystatechange=function(){i||this.readyState&&"complete"!=this.readyState||(i=!0,e())};var a=document.getElementsByTagName("script")[0];a.parentElement.insertBefore(n,a)})};var isPageReady;window.famobi_tracking=window.famobi_tracking||{init:function(){},trackEvent:function(){},EVENTS:{LEVEL_START:"event/level/start",LEVEL_END:"event/level/end",LEVEL_UPDATE:"event/level/update",PING:"event/ping",AD:"event/ad"}},"undefined"==typeof window||window.famobi||(function(e){var t={orientationChangeCallback:null,brandingLogo:null,config:null,reached_home:!1,splashComplete:!1,volume:1,init:function(){return new Promise(function(i,e){var t,n,a;this.config||(t="famobi.json",n=function(e){e=(e=JSON.parse(e)).offlinizer||e;if(e.game_i18n=e.game_i18n||{},this.config=e,"undefined"!=typeof SDK_INTERFACE_SETTINGS&&(this.config.ads={},"interstitial"in SDK_INTERFACE_SETTINGS&&(this.config.ads.show_initial=!!SDK_INTERFACE_SETTINGS.interstitial.enabled&&!!SDK_INTERFACE_SETTINGS.interstitial.initial),"features"in SDK_INTERFACE_SETTINGS)){var t=Object.keys(SDK_INTERFACE_SETTINGS.features);for(let e=0;e<t.length;e++)this.config.features[t[e]]=SDK_INTERFACE_SETTINGS.features[t[e]]}this.config.disable_console&&(window.console={log:function(){},warn:function(){},info:function(){},error:function(){}}),this.log("init..."),this.game.init(),this.includeCSS("html5games/gameapi/v1/play.css");for(var n=0;this.config.includeCSS&&n<this.config.includeCSS.length;n++)this.includeCSS(this.config.includeCSS[n]);window.famobi_gameJS&&window.famobi_gameJS.length&&"string"==typeof window.famobi_gameJS[window.famobi_gameJS.length-1]&&window.famobi_gameJS.push(function(){}),window.famobi_gameJS.unshift("html5games/gameapi/famobi_analytics_v1.js"),window.famobi_gameJS.unshift("html5games/gameapi/detection.js"),window.famobi_gameJS.unshift("html5games/gameapi/zepto.min.js");for(n=0;this.config.includeJS&&n<this.config.includeJS.length;n++)window.famobi_gameJS.unshift(this.config.includeJS[n]);window.addEventListener("orientationchange",function(){"function"==typeof this.orientationChangeCallback&&this.orientationChangeCallback()}.bind(this),!1);this.getUrlParams().fg_aid,window.famobi_multiplayer=this.config.features.multiplayer||!1,this.config.gameParams=this.config.gameParams||{},window.addEventListener("famobi_tracking_screen",function(e){this.config.autoShowMenuScreens&&this.config.autoShowMenuScreens.includes(e.detail.screen)&&(this.reached_home=!0,setTimeout(function(){this.splashComplete&&window.famobi.menu.show()},1e3))}),SDK_INTERFACE_SETTINGS&&SDK_INTERFACE_SETTINGS.show_splash&&this.showSplashScreen(function(){this.splashComplete=!0,this.reached_home&&window.famobi.menu.show()},this.config.splash_duration<0);this.ads.init(),this.adapters.add("analytics","trackStats",function(e,t){window.famobi.config.logging&&(console.log("%c "+e+" %c (trackStats)","background: #333333; color: white; display: block;",""),t)&&console.log(t)}),this.adapters.add("analytics","trackEvent",function(e,t){"EVENT_LIVESCORE"!=e&&window.famobi.config.logging&&(console.log("%c "+e+" %c (trackEvent)","background: #0092c3; color: white; display: block;",""),t)&&console.log(t)}),this.adapters.add("analytics","trackScreen",function(e,t){window.famobi.config.logging&&(console.log("%c "+e+" %c (trackScreen)","background: #f08119; color: white; display: block;",""),t)&&console.log("pageTitle: "+t)}),i("running-jack"!==window.famobi_gameID)}.bind(this),(a=new XMLHttpRequest).overrideMimeType("application/json"),a.open("GET",t,!0),a.onreadystatechange=function(){4===a.readyState&&"200"==a.status&&n(a.responseText)},a.send(null))}.bind(this))},showInterstitialAd:function(n,i){var a=this;return new Promise(function(e,t){a.showAd(function(){e()},n,i)})},forceAd:function(e){this.showAd(e,!0)},rewardedAd:function(t){this.hasFeature("rewarded")&&this.hasRewardedAd()?this.rewardedads.show().then(function(e){"function"==typeof t&&t(e)}):(this.log("rewarded ads: not supported"),"function"==typeof t&&t(this.rewardedads.defaultReturnValue))},showAd:function(e,t){this.config.ads.off?(this.log("ads: off"),"function"==typeof e&&e()):!0===t||this.ads.hasCooledDown()?(this.ads.adcount++,this.ads.lastAdCall=Date.now(),this.game.pause(),this.log("showing ad..."),this.ads.show(this.ads.show_initial&&1==this.ads.adcount).then(function(){this.log("ad finished"),"function"==typeof e&&e(),setTimeout(function(){this.game.resume()}.bind(this),100)}.bind(this))):(this.log("skipping ad..."),"function"==typeof e&&e())},rewardedads:{lastAdCall:Date.now(),adcount:0,defaultReturnValue:{adType:"rewarded",adDidLoad:!1,adDidShow:!1,adCount:0,rewardGranted:!1},init:function(){window.famobi},hasCooledDown:function(){return!0},show:function(){var n=window.famobi;return new Promise(function(e,t){setTimeout(function(){e({adType:"rewarded",adDidLoad:!0,adDidShow:!0,adCount:n.rewardedads.adcount,rewardGranted:!0})},0)})}},ads:{lastAdCall:Date.now(),adcount:0,off:!0,show_initial:!1,min_s_before:10,min_s_between:90,init:function(){var e=window.famobi;e.config.ads=e.config.ads||{},this.lastAdCall=Date.now(),this.off=!1!==e.config.ads.off,this.show_initial=e.config.ads.show_initial||!1,this.min_s_before=e.config.ads.min_s_before||10,this.min_s_between=e.config.ads.min_s_between||90},hasCooledDown:function(){var e=0===this.adcount&&0<+this.min_s_before?+this.min_s_before:+this.min_s_between;return Date.now()-1e3*e>this.lastAdCall},show:function(e){var t=window.famobi;return e&&t.log("initial ad"),new Promise(function(e,t){setTimeout(function(){e()},0)})}},gametranslation:{init:function(){window.famobi.gametranslation.curLangString=window.famobi.gametranslation.getUserLang(),-1===window.famobi.gametranslation.getSupportedLanguages().indexOf(window.famobi.gametranslation.curLangString)&&(window.famobi.gametranslation.curLangString="en"),window.famobi.gametranslation.translationData=window.famobi.gametranslation.getGameTranslations(),window.famobi.gametranslation.translateHtml(faZepto("body"))},getSupportedLanguages:function(){return window.famobi.config.languages||Object.keys(window.famobi.config.game_i18n)||[]},getGameTranslations:function(){var i=window.famobi.config.game_i18n,e=window.famobi.gametranslation.curLangString;return i.current||(faZepto.each(i,function(n,e){faZepto.each(e,function(e,t){null==t?i[n][e]="":"string"==typeof i[n][e]&&(i[n][e]=t.replace(/\{lang\}/g,n))})}),i.current=faZepto.extend({},i.default,i[window.famobi.config.aid+".default"],i[e],i[window.famobi.config.aid+"."+e]),window.famobi.config.game_i18n.current=i.current)},translateString:function(e){return window.famobi.gametranslation.translationData.hasOwnProperty(e)?window.famobi.gametranslation.translationData[e]:null},getNavigatorLocale:function(){var e="";return navigator.languages&&window.famobi.sizeOf(navigator.languages)?e=navigator.languages[0]:navigator.language?e=navigator.language:navigator.userLanguage?e=navigator.userLanguage:navigator.browserLanguage&&(e=navigator.browserLanguage),e},getNavigatorLanguage:function(){return window.famobi.gametranslation.getNavigatorLocale().substr(0,2)},getUserLang:function(){var e=window.famobi.getUrlParams(),t=window.famobi.gametranslation.getNavigatorLanguage();if(e.locale&&2==e.locale.length)return e.locale;switch(t){case"ch":case"at":return"de";default:return t}},translateHtml:function(e){return e.find("[data-i18n]").each(function(){var e=this.getAttribute("data-i18n");this.innerHTML=window.famobi.gametranslation.translateString(e)}),e}},__:function(e){switch(e){case"test_preload_image":return"html5games/images/testPreloadImage.png";case"preload_image":return"html5games/images/"+(this.config.preload_image||"preloadImage")+".png";case"more_games_image":return this.getBrandingButtonImage()}var t=this.getCurrentLanguage();if(this.config.game_i18n){if(this.config.game_i18n[t]&&(this.config.game_i18n[t]=Object.assign(this.config.game_i18n[t],this.config.game_i18n[this.config.aid+"."+t])),this.config.game_i18n[t]&&this.config.game_i18n[t][e])return"string"==typeof this.config.game_i18n[t][e]?this.config.game_i18n[t][e].replace("{lang}",t):this.config.game_i18n[t][e];if(this.config.game_i18n.default&&(this.config.game_i18n.default=Object.assign(this.config.game_i18n.default,this.config.game_i18n[this.config.aid+".default"])),this.config.game_i18n.default&&this.config.game_i18n.default[e])return"string"==typeof this.config.game_i18n.default[e]?this.config.game_i18n.default[e].replace("{lang}",t):this.config.game_i18n.default[e]}return this.warn("No translation found for '"+e+"'"),null},getCurrentLanguage:function(){var e;try{e=new URL(window.location.href).searchParams.get("locale")}catch(e){console.error(e)}return e||(navigator.language||navigator.userLanguage).substr(0,2)},showSplashScreen:function(n,i,a){var e,t,o;document.getElementById("famobi_splash")?(splashScreen.style.display="block",splashScreen.style.animation=splashScreen._orgAni,a||(i?(window.removeEventListener(i,()=>this.hideSplashScreen(n)),window.addEventListener(i,()=>this.hideSplashScreen(n))):setTimeout(()=>this.hideSplashScreen(n),this.config.splash_duration))):(e="html5games/splash/splash.html",t=e=>{this.includeCSS("html5games/splash/splash.css");var t=document.createElement("div");t.classList.add("splash-screen"),t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.innerHTML=e,this.config.preload_image&&(t.querySelector(".logo").src="html5games/images/"+this.config.preload_image+".png"),document.body.appendChild(t),this.splashScreen=t,a||(i?window.addEventListener(i,()=>this.hideSplashScreen(n)):setTimeout(()=>this.hideSplashScreen(n),this.config.splash_duration))},(o=new XMLHttpRequest).overrideMimeType("application/xhtml+xml"),o.open("GET",e,!0),o.onreadystatechange=function(){4===o.readyState&&"200"==o.status&&t(o.responseText)},o.send(null))},hideSplashScreen:function(e){this.splashScreen.style.display="none",this.splashScreen._orgAni||(this.splashScreen._orgAni=this.splashScreen.style.animation),this.splashScreen.style.animation="none",e&&e(this.splashScreen)},getAbsolutePath:function(e){var t=document.location.protocol+"//"+document.location.pathname;return"file:"!==document.location.protocol?e:(e.startsWith("/")&&(e=e.substr(1)),t.substr(0,t.lastIndexOf("/")+1)+e)},menu:{create:function(){window.famobi.menu=this,window.famobi.menu.rootElement=document.getElementById("fg-root"),window.famobi.menu.bodyElement=document.getElementsByTagName("body")[0],window.famobi.menu.headElement=document.getElementsByTagName("head")[0],window.famobi.menu.rootElement||(window.famobi.menu.rootElement=document.createElement("div"),window.famobi.menu.rootElement.setAttribute("id","fg-root"),window.famobi.menu.rootElement.classList.add("fg_root"),window.famobi.menu.rootElement.style="color: #999;font-weight:normal;",document.body.insertBefore(window.famobi.menu.rootElement,document.body.firstChild)),window.famobi.menu.fgOverlay=document.createElement("div"),window.famobi.menu.fgOverlay.setAttribute("id","fg-overlay"),window.famobi.config.overlay_position&&(window.famobi.menu.fgOverlay.className="overlay-"+window.famobi.config.overlay_position+" clip-"+window.famobi.config.overlay_position),window.famobi.config.overlay_distance&&""!==window.famobi.config.overlay_distance&&(window.famobi.config.overlay_position&&"bottom"==window.famobi.config.overlay_position?window.famobi.menu.fgOverlay.style.bottom=isNaN(window.famobi.config.overlay_distance)?window.famobi.config.overlay_distance:window.famobi.config.overlay_distance+"px":window.famobi.menu.fgOverlay.style.top=isNaN(window.famobi.config.overlay_distance)?window.famobi.config.overlay_distance:window.famobi.config.overlay_distance+"px"),window.famobi.menu.rootElement.appendChild(window.famobi.menu.fgOverlay),window.famobi.menu.fgOverlay.innerHTML='<header id="fg-header"><div class="fg-clip" id="fg-clip"><div class="fg-clip-btn"><span></span></div></div></header>',window.famobi.menu.fgNavigation=document.createElement("nav"),window.famobi.menu.fgNavigation.style.position="relative",window.famobi.menu.fgNavigation.setAttribute("id","fg-navigation"),window.famobi.menu.fgOverlay.appendChild(window.famobi.menu.fgNavigation),window.famobi.menu.fgOverlay_visible=!1,window.famobi.menu.fgHeader=document.getElementById("fg-header"),faZepto("#fg-clip, #fg-logo").each(function(){window.famobi.menu.handleClick(this,window.famobi.menu.toggleOverlay)});var t=window.famobi.getCurrentLanguage();let n="";if(window.famobi.config.supportedLanguages&&1<window.famobi.config.supportedLanguages.length){n='<ul class="fg-langs">';var i;for(let e=0;e<window.famobi.config.supportedLanguages.length;e++)i=window.famobi.config.supportedLanguages[e],n+=`<li class="${i==t?"fg-lang fg-lang-selected":"fg-lang"}" data-switch-lang="${i}" style="cursor: pointer;">
                                <a href="javascript:void(0);">
                                  <img class="fg-flag" src="html5games/images/flags/flag_${i}.png" alt="${i}">
                                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 841.9 459" xml:space="preserve">
                                      <path d="M630.7,227.3"></path>
                                      <path d="M21.5,17.9c-3.9,0-7.4,2.3-8.9,6c-1.6,3.7-0.6,7.8,2.1,10.5l399.7,399.7c1.9,1.9,4.5,2.9,6.8,2.9c2.3,0,5.1-1,6.8-2.9 L827.4,34.7c2.7-2.5,3.7-6.8,2.1-10.7c-1.6-3.7-5.1-6-8.9-6H21.5z"></path>
                                    </svg>
                                  </a>
                                </li>`;n+="</ul>"}var e=(window.famobi.hasFeature("highscores")?`<ul class="fa-menu-buttons">
                          <li data-famobi-href="leaderboard">
                            <a href="javascript:void(0);" class="fa-menu-button-leaderboard">
                              <img src="html5games/images/leaderboard2.svg" alt="leaderboard">
                            </a>
                          </li>
                         </ul>`:"")+`
                        <ul class="fg-related-games">
                          <li>
                            <a href="${window.famobi.config.branding_url||window.famobi.config.more_games_url}" target="_blank">
                              <img src="html5games/images/icon.svg" alt="${window.famobi.config.name}">
                            </a>
                          </li>
                        </ul>
                        `+n;window.famobi.menu.setHtml(e),SDK_INTERFACE_SETTINGS.menuless&&(window.famobi.menu.fgOverlay.style.display="none")},show:function(){var e;return window.famobi.menu.fgOverlay_visible||(window.famobi.menu.fgNavigation.querySelector(".fa-menu-button-leaderboard img")&&(window.famobi.menu.fgNavigation.querySelector(".fa-menu-button-leaderboard img").style.animation="growAndShake 1s linear 1s 1 forwards",setTimeout(()=>window.famobi.menu.fgNavigation.querySelector(".fa-menu-button-leaderboard img").style.animation="none",2e3)),e=faZepto("#fg-overlay .fa-menu-button-fullscreen"),this.hideAll(),window.famobi.menu.eventHandler=window.famobi.menu.handleClick(faZepto("html").get(0),this.hideAll),faZepto("html").get(0).style.cursor="pointer",document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?e.removeClass("fa-fullscreen-disabled").addClass("fa-fullscreen-enabled"):e.removeClass("fa-fullscreen-enabled").addClass("fa-fullscreen-disabled"),window.famobi.menu.fgOverlay_visible=!0,faZepto(window.famobi.menu.fgOverlay).addClass("navigation-view"),window.famobi.menu.fgNavigation.style.display=""),window.famobi.menu},hide:function(){return hideAll()},hideAll:function(){return window.famobi.menu.fgOverlay_visible&&(window.famobi.menu.eventHandler&&window.famobi.menu.removeClick(faZepto("html").get(0),window.famobi.menu.eventHandler),faZepto(window.famobi.menu.fgOverlay).removeClass("iframe-view navigation-view fa-lang-shown"),window.famobi.menu.fgOverlay_visible=!1),window.famobi.menu},handleClick:function(e,t){function n(e){return t.call(this,e),e.cancelBubble=!0,e.stopPropagation(),!1}return"function"==typeof t&&(window.navigator.msPointerEnabled?e.addEventListener("MSPointerDown",n,!1):window.PointerEvent?(e.addEventListener("pointerup",n,!1),e.addEventListener("pointermove",this.eventTrap,!0),e.addEventListener("pointerdown",this.eventTrap,!0)):detection.is.touch?(e.addEventListener("touchend",n,!1),e.addEventListener("touchmove",this.eventTrap,!0),e.addEventListener("touchstart",this.eventTrap,!0)):e.addEventListener("click",n,!1),e.style.cursor="pointer"),n},removeClick:function(e,t){return"function"==typeof t&&(window.navigator.msPointerEnabled?e.removeEventListener("MSPointerDown",t,!1):window.PointerEvent?(e.removeEventListener("pointerup",t,!1),e.removeEventListener("pointermove",this.eventTrap,!0),e.removeEventListener("pointerdown",this.eventTrap,!0)):detection.is.touch?(e.removeEventListener("touchend",t,!1),e.removeEventListener("touchmove",this.eventTrap,!0),e.removeEventListener("touchstart",this.eventTrap,!0)):e.removeEventListener("click",t,!1)),e},eventTrap:function(e){e.preventDefault(),e.cancelBubble=!0,e.stopPropagation()},toggleOverlay:function(e){return window.famobi.menu.fgOverlay_visible?window.famobi.menu.hideAll():window.famobi.menu.show(),e.stopPropagation(),!1},setHtml:function(e){window.famobi.menu.fgNavigation.innerHTML=e,window.famobi.menu.bindEvents()},toggleLanguages:function(){var e=faZepto(window.famobi.menu.fgOverlay);e.hasClass("fa-lang-shown")?e.removeClass("fa-lang-shown"):e.addClass("fa-lang-shown")},switchLanguage:function(e){var t=window.famobi.getUrlParams();window.famobi.menu.hideAll(),t.locale=e,e=faZepto.param(t),document.location.replace(document.location.pathname+"?"+e+(document.location.hash||""))},bindEvents:function(){faZepto("[data-switch-lang]").each(function(){var e=faZepto(this),t=faZepto(this).attr("data-switch-lang");e.removeClass("fg-lang-selected"),t===window.famobi.gametranslation.curLangString&&(e.closest("ul").prepend(e),e.addClass("fg-lang-selected")),window.famobi.menu.handleClick(this,function(){!0===e.hasClass("fg-lang-selected")?window.famobi.menu.toggleLanguages():t.length&&window.famobi.menu.switchLanguage(t)})}),faZepto("[data-famobi-href]").css("cursor","pointer").each(function(){window.famobi.menu.handleClick(this,function(){var e=faZepto(this).attr("data-famobi-href");switch(window.famobi.menu.hideAll(),e){case"moreGames":return window.famobi.menu.moreGamesLink();case"back":return window.famobi.menu.backLink();case"leaderboard":return window.famobi.showLeaderboard();default:if(this.href)return window.open(this.href,""),!1}}.bind(this))})}},getMoreGamesButtonImage:function(){return this.brandingLogo?this.brandingLogo.src:"html5games/images/"+(this.config.more_games_button_image||"logo")+".png"},getBrandingButtonImage:function(){return this.brandingLogo?this.brandingLogo.src:"html5games/images/"+(this.config.branding_button_image||this.config.more_games_button_image||"logo")+".png"},moreGamesLink:function(){var e;(e=this.config.more_games_url)&&!window.open(e,"")&&(window.top.location.href=e)},openBrandingLink:function(){this.moreGamesLink()},sessionStorage:{setItem:function(e,t){try{window.sessionStorage.setItem(window.famobi_gameID+":"+e,t)}catch(e){window.famobi.config.logging&&console.log("[SessionStorage] Skipped because of issues")}},getItem:function(e){try{return window.sessionStorage.getItem(window.famobi_gameID+":"+e)}catch(e){window.famobi.config.logging&&console.log("[SessionStorage] Skipped because of issues")}return null},removeItem:function(e){try{window.sessionStorage.removeItem(window.famobi_gameID+":"+e)}catch(e){window.famobi.config.logging&&console.log("[SessionStorage] Skipped because of issues")}},clear:function(){try{for(var e in window.sessionStorage)e.startsWith(window.famobi_gameID+":")&&window.sessionStorage.removeItem(e)}catch(e){window.famobi.config.logging&&console.log("[SessionStorage] Skipped because of issues")}}},localStorage:{setItem:function(e,t){try{window.localStorage.setItem(window.famobi_gameID+":"+e,t)}catch(e){window.famobi.config.logging&&console.log("[LocalStorage] Skipped because of issues")}},getItem:function(e){try{return window.localStorage.getItem(window.famobi_gameID+":"+e)}catch(e){window.famobi.config.logging&&console.log("[LocalStorage] Skipped because of issues")}return null},removeItem:function(e){try{window.localStorage.removeItem(window.famobi_gameID+":"+e)}catch(e){window.famobi.config.logging&&console.log("[LocalStorage] Skipped because of issues")}},clear:function(){try{for(var e in window.localStorage)e.startsWith(window.famobi_gameID+":")&&window.localStorage.removeItem(e)}catch(e){window.famobi.config.logging&&console.log("[LocalStorage] Skipped because of issues")}}},log:function(){this.config&&!this.config.logging||console.log(1===arguments.length?arguments[0]:arguments)},warn:function(){this.config&&!this.config.logging||console.warn(1===arguments.length?arguments[0]:arguments)},orientation:{init:function(){this.rootElement=document.getElementById("fg-root"),this.update(window.famobi.config.gameParams.orientation)},update:function(e){return void 0!==e&&(window.famobi.config.rotation||!1!==window.famobi.config.rotation&&!detection.is.pc&&!detection.is.tablet)&&window.screen&&window.screen.height!==window.screen.width&&(this.rootElement.className=this.rootElement.className+" fg-orientation-"+e,void 0===this.fgLandscapeOverlay&&(this.fgLandscapeOverlay=document.createElement("div"),this.fgLandscapeOverlay.setAttribute("id","fg-landscape-overlay"),this.fgLandscapeImage=document.createElement("img"),this.fgLandscapeImage.setAttribute("src","html5games/images/RotateToLandscape.png"),this.fgLandscapeImage.setAttribute("class","fg-orientation-icon"),this.fgLandscapeImage.setAttribute("alt","switch to landscape"),this.fgLandscapeOverlay.appendChild(this.fgLandscapeImage),this.rootElement.appendChild(this.fgLandscapeOverlay)),void 0===this.fgPortraitOverlay)&&(this.fgPortraitOverlay=document.createElement("div"),this.fgPortraitOverlay.setAttribute("id","fg-portrait-overlay"),this.fgPortraitImage=document.createElement("img"),this.fgPortraitImage.setAttribute("src","html5games/images/RotateToPortrait.png"),this.fgPortraitImage.setAttribute("class","fg-orientation-icon"),this.fgPortraitImage.setAttribute("alt","switch to portrait"),this.fgPortraitOverlay.appendChild(this.fgPortraitImage),this.rootElement.appendChild(this.fgPortraitOverlay)),this}},sizeOf:function(e){var t,n=0;if(e){if(void 0!==e.length)return e.length;if(Object.keys)n=Object.keys(e).length;else for(t in e)e.hasOwnProperty(t)&&n++}return n},getOrientation:function(){var e=window.matchMedia("all and (orientation:landscape)");return e&&!0===e.matches?"landscape":"portrait"},onOrientationChange:function(e){return"function"!=typeof(this.orientationChangeCallback=e)&&this.error("famobi.onorientationchange: no valid callback provided."),faZepto(window).resize(e)},submitHighscore:function(e,t,n){n||this.warn("famobi.submitHighscore is deprecated, please use famobi_analytics.trackEvent('EVENT_LEVELSCORE')instead: https://sites.google.com/a/famobi.com/api-docs/api-implementation/famobi-analytics")},levelUp:function(){this.warn("famobi.levelUp is deprecated, please use famobi_analytics.trackEvent('EVENT_LEVELSUCCESS') instead: https://sites.google.com/a/famobi.com/api-docs/api-implementation/famobi-analytics")},gameOver:function(){this.warn("famobi.gameOver is deprecated, please use famobi_analytics.trackEvent('EVENT_LEVELFAIL') instead: https://sites.google.com/a/famobi.com/api-docs/api-implementation/famobi-analytics")},includeCSS:function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=e,t.appendChild(n)},sendLiveScore:function(e){},hasRewardedAd:function(){return this.hasFeature("rewarded")},hasFeature:function(e){return(e="local"==e?"standalone":e)in this.config.features&&!!this.config.features[e]},getAppLink:function(){return""},getUrlParams:function(e,t,n){e=/[?&]?([^=]+)=([^&]*)/g,t=document.location&&document.location.search?document.location.search.split("+").join(" "):"";for(var i={};n=e.exec(t);)i[decodeURIComponent(n[1])]=decodeURIComponent(n[2]);return i.fg_aid?this.config.aid=i.fg_aid:i.fg_aid=this.config.aid,i},showLeaderboard:function(){window.famobi.hasFeature("highscores")},game:{waitingCounter:0,setWaiting:function(e){return e?this.waitingCounter++:0<this.waitingCounter?this.waitingCounter--:this.waitingCounter=0,this},isWaiting:function(){return 0<this.waitingCounter},canResume:function(){return 1===this.waitingCounter},init:function(){this.waitingCounter=0},pause:function(){if(this.isWaiting())return this.setWaiting(!0),!1;this.setWaiting(!0);try{return"function"==typeof window.famobi_onPauseRequested?(window.famobi_onPauseRequested(),!0):window.game&&void 0!==window.game.paused?window.game.paused=!0:void 0!==window.cr_setSuspended?(cr_setSuspended(!0),!0):void window.createjs}catch(e){window.famobi.log("Pausing game failed: "+e)}},resume:function(){if(this.isWaiting())if(this.canResume()){this.setWaiting(!1);try{if("function"==typeof window.famobi_onResumeRequested)return window.famobi_onResumeRequested(),!0;if(window.game&&void 0!==window.game.paused)return!(window.game.paused=!1);if(void 0!==window.cr_setSuspended)return cr_setSuspended(!1),!0;window.createjs}catch(e){window.famobi.log("Resuming game failed: "+e)}}else this.setWaiting(!1);return!1}},translateHtml:function(){return this.gametranslation.translateHtml.apply(this,arguments)},setPreloadProgress:function(e){this.config.logging&&console.info(e+"%")},gameReady:function(){this.adapters.run("game","ready"),this.log("Received gameReady signal")},playerReady:function(){this.adapters.run("player","ready"),this.log("Received playerReady signal")},setVolume:function(e){this.volume=Math.max(0,Math.min(1,e)),this.volume!=e&&console.warn("volume: value out of bounds. Now forced to "+this.volume),this.adapters.run("request","changeVolume",this.volume)},getVolume:function(){return this.volume},getFeatureProperties:function(e){return this.hasFeature(e)&&"object"==typeof this.config.features[e]?this.config.features[e]:{}},adaptersModule:function(){var a=this;function e(){this.adapters={ads:{show:this.createAdapter(),rewarded:this.createAdapter(),callback:this.createAdapter(),vastUrl:this.createAdapter()},adEvent:{loaded:this.createAdapter(),displayed:this.createAdapter(),errored:this.createAdapter(),userClosed:this.createAdapter(),completed:this.createAdapter()},analytics:{trackEvent:this.createAdapter(),trackScreen:this.createAdapter(),trackStats:this.createAdapter()},api:{created:this.createAdapter({queueCalls:!0,runOnce:!0})},game:{loaded:this.createAdapter({queueCalls:!0,runOnce:!0}),gameOver:this.createAdapter(),levelUp:this.createAdapter(),preloadProgress:this.createAdapter(),preloadComplete:this.createAdapter({queueCalls:!0,runOnce:!0}),ready:this.createAdapter({queueCalls:!0,runOnce:!0})},player:{ready:this.createAdapter({queueCalls:!0,runOnce:!0})},highscore:{show:this.createAdapter(),submit:this.createAdapter()},screenshot:{submit:this.createAdapter()},request:{startGame:this.createAdapter({queueCalls:!0,runOnce:!0}),stopGame:this.createAdapter(),restartGame:this.createAdapter(),pauseGameplay:this.createAdapter(),resumeGameplay:this.createAdapter(),enableAudio:this.createAdapter(),disableAudio:this.createAdapter(),enableMusic:this.createAdapter(),disableMusic:this.createAdapter(),changeVolume:this.createAdapter()}},this.adapter_templates={ads:{show:[function(e,t){}],rewarded:[function(e){}],callback:[function(e){}],vastUrl:[function(){}]},adEvent:{loaded:[function(e){}],displayed:[function(){}],errored:[function(e){}],userClosed:[function(e){}],completed:[function(e){}]},analytics:{trackEvent:[function(e,t){}],trackScreen:[function(e,t){}],trackStats:[function(e,t){}]},api:{created:[function(e){}]},game:{loaded:[function(){}],gameOver:[function(){}],levelUp:[function(){}],preloadProgress:[function(){}],preloadComplete:[function(){}],ready:[function(){}]},highscore:{show:[function(e){}],submit:[function(e,t){}]},screenshot:{submit:[function(e,t){}]},request:{startGame:[function(){}],stopGame:[function(){}],restartGame:[function(){}],pauseGameplay:[function(){}],resumeGameplay:[function(){}],enableAudio:[function(){}],disableAudio:[function(){}],enableMusic:[function(){}],disableMusic:[function(){}],changeVolume:[function(e){}]},player:{ready:[function(){}]}}}var t=e.prototype;return t.createAdapter=function(e){return{callbacks:[],queueCalls:!(!e||!e.queueCalls),queue:[],runOnce:!(!e||!e.runOnce),numRuns:0}},t.init=function(){var e="",t="";if(void 0!==window.famobi_adapters)for(e in window.famobi_adapters)for(t in window.famobi_adapters[e])this.add(e,t,window.famobi_adapters[e][t])},t.list=function(){return this.adapters},t.add=function(t,n,i){var e;return t in this.adapters&&n in this.adapters[t]?"function"!=typeof i?a.log("adapters.add: invalid callback"):"object"==typeof(e=this.adapters[t][n])&&Array.isArray(e.callbacks)?(e.callbacks.push(i),e.queueCalls&&0<e.queue.length&&e.queue.forEach(function(e){try{i.apply(this,e)}catch(e){console.warn("adapters.run: callback failed for",t+"."+n,"\n",e)}},this)):a.log("adapters.add: broken adapter object for",t,n):a.log("adapters.add: invalid (sub-)section"),this},t.has=function(e,t){return e in this.adapters&&t in this.adapters[e]&&"object"==typeof this.adapters[e][t]&&Array.isArray(this.adapters[e][t].callbacks)&&0<this.adapters[e][t].callbacks.length},t.run=function(t,n){var e,i=arguments?Array.prototype.slice.call(arguments,2):[];return t in this.adapters&&n in this.adapters[t]&&"object"==typeof this.adapters[t][n]&&((e=this.adapters[t][n]).runOnce&&0<e.numRuns?(console.warn("adapters.run: one-time adapter called more than once for",t+"."+n,"\n"),!1):(e.numRuns+=1,e.queueCalls&&e.queue.push(i),0<e.callbacks.length&&(e.callbacks.forEach(function(e){try{e.apply(this,i)}catch(e){console.warn("adapters.run: callback failed for",t+"."+n,"\n",e)}},this),!0)))},(t=new e).init(),t},requestsModule:function(){var n,i=this;function e(){this.adapterSection="requests",this.legitActionIdentifiers=["startGame","stopGame","restartGame","pauseGameplay","resumeGameplay","enableAudio","enableMusic","disableAudio","disableMusic","changeVolume"]}var t=e.prototype;return t.init=function(){},t.isAction=function(e){return"string"==typeof e&&-1<n.legitActionIdentifiers.indexOf(e)},t.onRequest=function(e,t){i.adapters?n.isAction(e)?"function"!=typeof t?console.warn("onRequest(): required param 'callback' has to be of type 'function'"):i.adapters.add("request",e,t):console.warn("onRequest(): required param 'action' has to be one of \""+n.legitActionIdentifiers.join('", "')+'"'):console.warn("onRequest(): adapters module required")},t.requestAction=function(e){i.adapters?n.isAction(e)?i.adapters.run.apply(i.adapters,["request"].concat(Array.from(arguments))):console.warn("requestAction(): required param 'action' has to be one of \""+n.legitActionIdentifiers.join('", "')+'"'):console.warn("onRequest(): adapters module required")},(n=new e).init(),n},onRequest:function(e,t){this.requests?this.requests.onRequest(e,t):console.warn("onRequest(): requests module required")},requestAction:function(){this.requests?this.requests.requestAction.apply(this,arguments):console.warn("onRequest(): requests module required")}};e.famobi=t}(window),isPageReady=new Promise(function(e,t){/complete|loaded|interactive/.test(document.readyState)&&document.body?e():document.addEventListener("DOMContentLoaded",e,!1)}),Promise.all([loadScript("sdk_interface.js"),isPageReady]).then(function(){return"undefined"!=typeof SDK_INTERFACE&&"undefined"!==SDK_INTERFACE.isSDKInterfaceDone?new Promise((e,t)=>{let n=setInterval(function(){!0===SDK_INTERFACE.isSDKInterfaceDone&&(clearInterval(n),e())},500)}):Promise.resolve()}).then(function(){return window.famobi.adapters=window.famobi.adaptersModule.call(window.famobi),window.famobi.requests=window.famobi.requestsModule.call(window.famobi),window.famobi.init()}).then(function(){return window.famobi.hasOwnProperty("adapters")&&window.famobi.adapters.run("api","created",famobi),Promise.resolve()}).then(function(){Promise.all(window.famobi.config.ads&&window.famobi.config.ads.show_initial?[window.famobi.showInterstitialAd(!0,!0)]:[]).then(function(){setTimeout(function(){!function e(){var t,n,i;window.famobi_gameJS.length?"function"==typeof(t=window.famobi_gameJS.shift())?("undefined"!=typeof Zepto&&void 0===window.faZepto&&((window.faZepto=Zepto).getScript=function(e,t,n){var i=document.createElement("script");i.async="async",i.src=e,t&&(i.onload=t),n&&(i.onerror=n),document.getElementsByTagName("head")[0].appendChild(i)}),t instanceof Promise?t().then(function(){e()}):(t(),e())):(n=document.createElement("script"),i=t.match(/(\{(.*?)\})/),n.onload=e,n.onerror=e,n.src=i?window.famobi.__(i[2]):t,document.body.appendChild(n)):(window.famobi.gametranslation.init(),window.famobi.menu.create(),window.famobi.orientation.init(),window.setTimeout(function(){var e=document.createEvent("Events");e.initEvent("deviceready",!0,!1),document.dispatchEvent(e)},50))}()},window.famobi.config.nextTimeout||0)})}));
